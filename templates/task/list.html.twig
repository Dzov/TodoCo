{% extends 'base.html.twig' %}

{% block header_img %}
    <img class="slide-image" src="{{ asset('img/todolist_content.jpg') }}" alt="todo list">{% endblock %}

{% block body %}
    <div class="d-flex justify-content-between">
        <h1>Liste des tâches</h1>
        <a href="{{ path('create_task') }}" class="btn btn-primary-open mt-4 align-self-center d-flex"><i class="fa fa-plus mr-4"></i>Ajouter une tâche</a>
    </div>
    <div class="d-flex justify-content-between mb-5 dropdown">
        <button class="btn filter-btn mt-4 d-flex" type="button" id="filterMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Filtrer <i class="fa fa-chevron-down ml-4"></i>
        </button>
        <div class="dropdown-menu filter-dropdown-menu" aria-labelledby="filterMenu">
            {#<a href="{{ path('#', {'userId': 'user'}) }}" class="dropdown-item">Mes tâches</a>#}
            <a href="{{ path('list_tasks', {'filters': {'starred': true }}) }}" class="dropdown-item">Tâches prioritaires</a>
            <a href="{{ path('list_tasks', {'filters' : {'in-progress':'in-progress'}}) }}" class="dropdown-item">Tâches à faire</a>
            <a href="{{ path('list_tasks', {'filters' : {'completed':'completed'}}) }}" class="dropdown-item">Tâches terminées</a>
        </div>
    </div>

    <a href="{{ path('list_tasks') }}" class="btn card-action pl-0 mb-4">Réinitialiser les filtres</a>
    <div class="row">
        {% for task in tasks %}
            {% include 'task/partials/task_card.html.twig' with {'task' : task} %}
        {% else %}
            {% include 'task/partials/no_task_message.html.twig' %}
        {% endfor %}
    </div>

{% endblock %}
